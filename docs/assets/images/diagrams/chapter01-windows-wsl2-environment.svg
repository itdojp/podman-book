<svg width="800" height="650" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: 700 18px Inter, sans-serif; fill: var(--color-text-primary, #1a202c); }
      .section-title { font: 600 14px Inter, sans-serif; fill: var(--color-text-primary, #1a202c); }
      .layer-text { font: 500 12px Inter, sans-serif; fill: var(--color-text-primary, #1a202c); }
      .component-text { font: 400 11px Inter, sans-serif; fill: var(--color-text-secondary, #4a5568); }
      .small-text { font: 400 10px Inter, sans-serif; fill: var(--color-text-secondary, #4a5568); }
      
      .windows-host { fill: var(--color-blue-50, #ebf8ff); stroke: var(--color-blue-300, #63b3ed); stroke-width: 2; }
      .wsl2-vm { fill: var(--color-green-50, #f0fff4); stroke: var(--color-green-300, #68d391); stroke-width: 2; }
      .linux-distro { fill: var(--color-purple-50, #faf5ff); stroke: var(--color-purple-200, #c084fc); }
      .podman-layer { fill: var(--color-orange-50, #fffaf0); stroke: var(--color-orange-200, #fbb962); }
      .container { fill: var(--color-yellow-50, #fffff0); stroke: var(--color-yellow-200, #f6e05e); }
      .network { fill: var(--color-red-50, #fef5e7); stroke: var(--color-red-200, #fc8181); }
      .storage { fill: var(--color-indigo-50, #f0f9ff); stroke: var(--color-indigo-200, #a5b4fc); }
      .arrow { stroke: var(--color-gray-600, #718096); fill: var(--color-gray-600, #718096); }
      .dotted { stroke: var(--color-gray-400, #a0aec0); stroke-dasharray: 5,5; }
    </style>
  </defs>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">Windows WSL2環境でのPodman実行構成図</text>

  <!-- Windows Host Layer -->
  <g id="windows-host">
    <rect x="50" y="60" width="700" height="540" class="windows-host" />
    <text x="70" y="85" class="section-title">Windows Host (Windows 10/11)</text>
    
    <!-- Windows Components -->
    <rect x="80" y="100" width="120" height="40" class="windows-host" />
    <text x="140" y="115" text-anchor="middle" class="component-text">Windows Terminal</text>
    <text x="140" y="130" text-anchor="middle" class="small-text">CLI Interface</text>
    
    <rect x="220" y="100" width="120" height="40" class="windows-host" />
    <text x="280" y="115" text-anchor="middle" class="component-text">VS Code</text>
    <text x="280" y="130" text-anchor="middle" class="small-text">Remote WSL Extension</text>
    
    <rect x="360" y="100" width="120" height="40" class="windows-host" />
    <text x="420" y="115" text-anchor="middle" class="component-text">Windows File System</text>
    <text x="420" y="130" text-anchor="middle" class="small-text">C:\\ (NTFS)</text>
    
    <rect x="500" y="100" width="120" height="40" class="windows-host" />
    <text x="560" y="115" text-anchor="middle" class="component-text">Hyper-V</text>
    <text x="560" y="130" text-anchor="middle" class="small-text">WSL2 Backend</text>
  </g>

  <!-- WSL2 Virtual Machine -->
  <g id="wsl2-vm">
    <rect x="100" y="170" width="600" height="350" class="wsl2-vm" />
    <text x="120" y="195" class="section-title">WSL2 Virtual Machine (Lightweight)</text>
    
    <!-- Linux Kernel -->
    <rect x="120" y="210" width="560" height="40" class="wsl2-vm" />
    <text x="400" y="225" text-anchor="middle" class="layer-text">Linux Kernel (Microsoft提供)</text>
    <text x="400" y="240" text-anchor="middle" class="small-text">Container機能フル対応（namespaces, cgroups, etc.）</text>
    
    <!-- Linux Distributions -->
    <rect x="130" y="270" width="160" height="100" class="linux-distro" />
    <text x="210" y="290" text-anchor="middle" class="layer-text">Ubuntu 22.04 LTS</text>
    <text x="210" y="310" text-anchor="middle" class="small-text">Default Distribution</text>
    <text x="210" y="330" text-anchor="middle" class="small-text">systemd対応</text>
    <text x="210" y="350" text-anchor="middle" class="small-text">/home/user</text>
    
    <rect x="310" y="270" width="160" height="100" class="linux-distro" />
    <text x="390" y="290" text-anchor="middle" class="layer-text">Fedora 38</text>
    <text x="390" y="310" text-anchor="middle" class="small-text">Alternative Distro</text>
    <text x="390" y="330" text-anchor="middle" class="small-text">DNF Package Manager</text>
    <text x="390" y="350" text-anchor="middle" class="small-text">/home/user</text>
    
    <rect x="490" y="270" width="160" height="100" class="linux-distro" />
    <text x="570" y="290" text-anchor="middle" class="layer-text">OpenSUSE</text>
    <text x="570" y="310" text-anchor="middle" class="small-text">Enterprise Option</text>
    <text x="570" y="330" text-anchor="middle" class="small-text">Zypper Package Manager</text>
    <text x="570" y="350" text-anchor="middle" class="small-text">/home/user</text>
  </g>

  <!-- Podman Installation Layer -->
  <g id="podman-layer">
    <rect x="130" y="390" width="540" height="80" class="podman-layer" />
    <text x="400" y="410" text-anchor="middle" class="layer-text">Podman Installation in WSL2</text>
    
    <rect x="150" y="420" width="100" height="40" class="podman-layer" />
    <text x="200" y="435" text-anchor="middle" class="component-text">podman CLI</text>
    <text x="200" y="450" text-anchor="middle" class="small-text">コマンドライン</text>
    
    <rect x="270" y="420" width="100" height="40" class="podman-layer" />
    <text x="320" y="435" text-anchor="middle" class="component-text">Container Runtime</text>
    <text x="320" y="450" text-anchor="middle" class="small-text">crun/runc</text>
    
    <rect x="390" y="420" width="100" height="40" class="podman-layer" />
    <text x="440" y="435" text-anchor="middle" class="component-text">Image Store</text>
    <text x="440" y="450" text-anchor="middle" class="small-text">OCI Images</text>
    
    <rect x="510" y="420" width="100" height="40" class="podman-layer" />
    <text x="560" y="435" text-anchor="middle" class="component-text">Container Store</text>
    <text x="560" y="450" text-anchor="middle" class="small-text">Running State</text>
  </g>

  <!-- Container Layer -->
  <g id="containers">
    <rect x="150" y="490" width="120" height="50" class="container" />
    <text x="210" y="510" text-anchor="middle" class="component-text">Web Container</text>
    <text x="210" y="525" text-anchor="middle" class="small-text">nginx:alpine</text>
    
    <rect x="290" y="490" width="120" height="50" class="container" />
    <text x="350" y="510" text-anchor="middle" class="component-text">App Container</text>
    <text x="350" y="525" text-anchor="middle" class="small-text">node:16</text>
    
    <rect x="430" y="490" width="120" height="50" class="container" />
    <text x="490" y="510" text-anchor="middle" class="component-text">Database</text>
    <text x="490" y="525" text-anchor="middle" class="small-text">postgres:13</text>
  </g>

  <!-- Network and Storage -->
  <g id="network-storage">
    <!-- Network -->
    <rect x="100" y="560" width="280" height="30" class="network" />
    <text x="240" y="580" text-anchor="middle" class="component-text">WSL2 Network Bridge ← → Windows Host Network</text>
    
    <!-- Storage -->
    <rect x="420" y="560" width="280" height="30" class="storage" />
    <text x="560" y="580" text-anchor="middle" class="component-text">File System Mount: /mnt/c, /mnt/d (Windows drives)</text>
  </g>

  <!-- Flow Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" class="arrow" />
    </marker>
  </defs>

  <!-- Windows to WSL2 -->
  <line x1="140" y1="140" x2="210" y2="270" stroke-width="2" class="arrow" marker-end="url(#arrowhead)" />
  <text x="155" y="200" class="small-text" transform="rotate(-45 155 200)">wsl command</text>

  <!-- VS Code to WSL2 -->
  <line x1="280" y1="140" x2="350" y2="270" stroke-width="2" class="arrow" marker-end="url(#arrowhead)" />
  <text x="295" y="200" class="small-text" transform="rotate(-35 295 200)">Remote connection</text>

  <!-- WSL2 to Podman -->
  <line x1="400" y1="370" x2="400" y2="390" stroke-width="2" class="arrow" marker-end="url(#arrowhead)" />

  <!-- Podman to Containers -->
  <line x1="320" y1="460" x2="280" y2="490" stroke-width="1" class="arrow" marker-end="url(#arrowhead)" />
  <line x1="400" y1="460" x2="400" y2="490" stroke-width="1" class="arrow" marker-end="url(#arrowhead)" />
  <line x1="480" y1="460" x2="520" y2="490" stroke-width="1" class="arrow" marker-end="url(#arrowhead)" />

  <!-- Installation Steps -->
  <g id="installation-steps" transform="translate(50, 610)">
    <text x="0" y="0" class="section-title">インストール手順:</text>
    <text x="0" y="20" class="small-text">1. Windows: WSL2有効化  2. Linux Distro: Microsoft Store導入  3. WSL内: sudo apt install podman  4. 動作確認: podman --version</text>
  </g>
</svg>