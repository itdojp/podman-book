<svg width="750" height="600" viewBox="0 0 750 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: 600 16px Inter, sans-serif; fill: var(--color-text-primary, #1a202c); text-anchor: middle; }
      .section-title { font: 500 14px Inter, sans-serif; fill: var(--color-text-primary, #1a202c); text-anchor: middle; }
      .label { font: 400 12px Inter, sans-serif; fill: var(--color-text-primary, #1a202c); text-anchor: start; }
      .note { font: 400 10px Inter, sans-serif; fill: var(--color-text-secondary, #718096); text-anchor: start; }
      .shared-note { font: 500 12px Inter, sans-serif; fill: var(--color-primary, #3182ce); text-anchor: middle; }
      .pod-box { fill: var(--color-bg-secondary, #f7fafc); stroke: var(--color-primary, #3182ce); stroke-width: 3; rx: 12; }
      .infra-box { fill: var(--color-amber-50, #fffbeb); stroke: var(--color-amber-400, #fbbf24); stroke-width: 2; rx: 8; }
      .app-box { fill: var(--color-green-50, #f0fff4); stroke: var(--color-green-400, #38a169); stroke-width: 2; rx: 8; }
      .connection-line { stroke: var(--color-gray-400, #a0aec0); stroke-width: 1; stroke-dasharray: 4,4; }
      .namespace-indicator { fill: var(--color-blue-100, #bee3f8); stroke: var(--color-blue-300, #63b3ed); stroke-width: 1; rx: 4; opacity: 0.7; }
    </style>
  </defs>

  <!-- Title -->
  <text x="375" y="30" class="title">Pod内部アーキテクチャ</text>

  <!-- Main Pod Container -->
  <rect x="50" y="60" width="650" height="480" class="pod-box"/>
  <text x="375" y="85" class="section-title">Pod: webapp</text>

  <!-- Infrastructure Container (Pause Container) -->
  <rect x="80" y="110" width="590" height="100" class="infra-box"/>
  <text x="375" y="135" class="section-title">Infrastructure Container (Pause Container)</text>
  
  <!-- Infrastructure functions -->
  <text x="100" y="155" class="label">├─ Network Namespace Owner</text>
  <text x="100" y="170" class="label">├─ IPC Namespace Owner</text>
  <text x="100" y="185" class="label">├─ PID Namespace Owner</text>
  <text x="100" y="200" class="label">└─ Volume Mount Points</text>

  <!-- Application Container 1 -->
  <rect x="80" y="240" width="270" height="120" class="app-box"/>
  <text x="215" y="265" class="section-title">Application Container 1</text>
  <text x="100" y="285" class="label">nginx (port 80)</text>
  <text x="100" y="305" class="note">├─ Web server process</text>
  <text x="100" y="320" class="note">├─ Configuration files</text>
  <text x="100" y="335" class="note">└─ Join pause namespaces</text>

  <!-- Application Container 2 -->
  <rect x="400" y="240" width="270" height="120" class="app-box"/>
  <text x="535" y="265" class="section-title">Application Container 2</text>
  <text x="420" y="285" class="label">redis (port 6379)</text>
  <text x="420" y="305" class="note">├─ Key-value store</text>
  <text x="420" y="320" class="note">├─ In-memory database</text>
  <text x="420" y="335" class="note">└─ Join pause namespaces</text>

  <!-- Connection lines from containers to infrastructure -->
  <line x1="215" y1="240" x2="215" y2="210" class="connection-line"/>
  <line x1="535" y1="240" x2="535" y2="210" class="connection-line"/>
  <line x1="215" y1="210" x2="535" y2="210" class="connection-line"/>

  <!-- Shared resources section -->
  <rect x="80" y="390" width="590" height="120" class="namespace-indicator"/>
  <text x="375" y="415" class="shared-note">共有リソース (Shared Resources)</text>
  
  <!-- Shared resources details -->
  <text x="100" y="440" class="label">Network:</text>
  <text x="200" y="440" class="note">localhost通信が可能 (nginx ↔ redis)</text>
  
  <text x="100" y="460" class="label">IPC:</text>
  <text x="200" y="460" class="note">共有メモリ・セマフォの共有</text>
  
  <text x="100" y="480" class="label">PID:</text>
  <text x="200" y="480" class="note">プロセス間でのシグナル送信可能</text>
  
  <text x="100" y="500" class="label">Volumes:</text>
  <text x="200" y="500" class="note">ストレージの共有マウント</text>

  <!-- Communication arrows -->
  <defs>
    <marker id="comm-arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="var(--color-primary, #3182ce)" />
    </marker>
  </defs>
  
  <!-- Localhost communication arrow -->
  <path d="M 280 300 Q 375 280 470 300" fill="none" stroke="var(--color-primary, #3182ce)" stroke-width="2" marker-end="url(#comm-arrow)"/>
  <text x="375" y="285" class="note">localhost:6379</text>

  <!-- Pod name label -->
  <rect x="620" y="65" width="70" height="20" fill="var(--color-primary, #3182ce)" rx="4"/>
  <text x="655" y="78" style="font: 500 10px Inter, sans-serif; fill: white; text-anchor: middle;">webapp</text>
</svg>